const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/ErrorComponent.BQhbd8ES.js","_astro/_plugin-vue_export-helper.DlAUqK2U.js","_astro/runtime-core.esm-bundler.CcrHjBWp.js"])))=>i.map(i=>d[i]);
import{_ as w}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as b,a as d,b as m,t as x,w as f,S,r as _,d as h,e as C,o as p,f as k}from"./runtime-core.esm-bundler.CcrHjBWp.js";const P="modulepreload",B=function(i){return"/"+i},E={},N=function(a,o,s){let l=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=e?.nonce||e?.getAttribute("nonce");l=Promise.allSettled(o.map(r=>{if(r=B(r),r in E)return;E[r]=!0;const u=r.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${g}`))return;const n=document.createElement("link");if(n.rel=u?"stylesheet":P,u||(n.as="script"),n.crossOrigin="",n.href=r,t&&n.setAttribute("nonce",t),document.head.appendChild(n),u)return new Promise((v,y)=>{n.addEventListener("load",v),n.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${r}`)))})}))}function c(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return l.then(e=>{for(const t of e||[])t.status==="rejected"&&c(t.reason);return a().catch(c)})},A={__name:"CounterExample",setup(i,{expose:a}){a();const o=_(!1),s=()=>{o.value=!o.value},l=C(()=>N(()=>import("./ErrorComponent.BQhbd8ES.js"),__vite__mapDeps([0,1,2])).catch(e=>{console.error("Ошибка загрузки компонента:",e)}));h(e=>(console.error("🚨 [onErrorCaptured] Глобальная ошибка:",e),!1));const c={showComponent:o,toggleComponent:s,ErrorComponent:l,ref:_,defineAsyncComponent:C,onErrorCaptured:h};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}},L={class:"p-4 text-center"};function O(i,a,o,s,l,c){return p(),b("div",L,[d("button",{onClick:s.toggleComponent,class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition"},x(s.showComponent?"Удалить компонент":"Показать компонент"),1),(p(),m(S,null,{default:f(()=>[s.showComponent?(p(),m(s.ErrorComponent,{key:0})):k("",!0)]),fallback:f(()=>a[0]||(a[0]=[d("p",{class:"text-gray-500"},"Загрузка...",-1)])),_:1}))])}const V=w(A,[["render",O]]);export{V as default};
