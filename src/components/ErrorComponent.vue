<script setup>
import { ref, onBeforeMount, onMounted, onBeforeUpdate, onUpdated, onBeforeUnmount, onUnmounted, onErrorCaptured } from 'vue';

const count = ref(0);
const triggerError = ref(false);

onBeforeMount(() => console.log('%câ³ ÐŸÐµÑ€ÐµÐ´ Ð¼Ð¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ [onBeforeMount]', 'color: cyan; font-weight: bold;'));
onMounted(() => console.log('%câœ… ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ ÑÐ¼Ð¾Ð½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½ [onMounted]', 'color: yellow; font-weight: bold;'));
onBeforeUpdate(() => console.log('%câ³ ÐŸÐµÑ€ÐµÐ´ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ [onBeforeUpdate]', 'color: pink; font-weight: bold;'));
onUpdated(() => console.log('%cðŸ”„ ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»Ñ‘Ð½ [onUpdated]', 'color: orange; font-weight: bold;'));
onBeforeUnmount(() => console.log('%câ³ ÐŸÐµÑ€ÐµÐ´ ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½Ð¸ÐµÐ¼ [onBeforeUnmount]', 'color: blue; font-weight: bold;'));
onUnmounted(() => console.log('%câŒ ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ ÑƒÐ½Ð¸Ñ‡Ñ‚Ð¾Ð¶ÐµÐ½ [onUnmounted]', 'color: grey; font-weight: bold;'));


onErrorCaptured((err) => {
  console.error('ðŸš¨ ÐžÑˆÐ¸Ð±ÐºÐ° Ð² ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ðµ:', err);
  return false;
});
</script>

<template>
  <div class="p-4 m-2 border rounded shadow-md bg-white text-center">
    <p class="text-lg font-bold">Ð¡Ñ‡Ñ‘Ñ‚Ñ‡Ð¸Ðº: {{ count }}</p>
    <button @click="count++" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">
      Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ
    </button>
    <button @click="triggerError = true" class="mt-2 ml-2 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition">
      Ð’Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ð¾ÑˆÐ¸Ð±ÐºÑƒ
    </button>

    <!-- ÐÐ°Ð¼ÐµÑ€ÐµÐ½Ð½Ð¾ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ð¾ÑˆÐ¸Ð±ÐºÑƒ -->
    <p v-if="triggerError">{{ nonexistentVar.someProperty }}</p>
  </div>
</template>
